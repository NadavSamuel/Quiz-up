(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{140:function(e,t,n){e.exports=n(280)},145:function(e,t,n){},146:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),i=(n(145),n(146),n(9)),l=n(16),u=n(17),s=n(19),p=n(18),d=n(22),m=n(66),h=n.n(m),y=h.a.create({withCredentials:!0}),v=function(e){return e.data},f={query:function(e){var t="";e&&(t="?"+Object.keys(e).map((function(t){return t+"="+e[t]})).join("&"));return y.get("".concat("/api/toy").concat(t)).then(v)},getById:function(e){return y.get("".concat("/api/toy","/").concat(e)).then(v)},remove:function(e){return y.delete("".concat("/api/toy","/").concat(e))},save:function(e){if(e._id)return y.put("".concat("/api/toy","/").concat(e._id),e);var t={price:56,name:e,type:"Funny",inStock:!0};return y.post("/api/toy",t).then(v)}};function g(e){return function(t){f.query(e).then((function(e){t({type:"SET_TOYS",toys:e})}))}}function b(e){return function(t){f.remove(e._id).then((function(){t({type:"REMOVE_TOY",toy:e})}))}}var E=n(25);var O=Object(d.b)((function(e){return{toys:e.toyReducer.toys,loggedInUser:e.userReducer.loggedinUser}}))((function(e){var t=e.toy,n=e.loggedInUser;return r.a.createElement("div",{className:"toy-preview"},r.a.createElement("h3",null,t.name),r.a.createElement("h4",null,t.price,"$"),r.a.createElement("h5",null,"Category: ",t.type),t.inStock&&"This toy is on stock!",!t.inStock&&"Out of stock",r.a.createElement("div",null,r.a.createElement(E.c,{to:"/toy/".concat(t._id)},"Check It Out!")),n&&n.isAdmin&&r.a.createElement("div",null,r.a.createElement(E.c,{to:"/toy/edit/".concat(t._id)},"Edit")))}));function w(e){var t=e.toys;return r.a.createElement("div",{className:"toy-list"},t.map((function(e){return r.a.createElement(O,{toy:e,key:e._id})})))}var j=n(29),k=n(6),T=n(315),S=n(281),C=n(318),I=n(320),A=n(317),R=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filter:{filterText:"",inStock:"all",sortBy:""}},e.handleChange=function(t){var n=t.target;console.log(n.value,"@TARGET");var a=n.name,r=n.value;e.setState((function(e){return{filter:Object(k.a)(Object(k.a)({},e.filter),{},Object(j.a)({},a,r))}}),(function(){e.props.onSetFilter(e.state.filter),console.log(e.state)}))},e.submitForm=function(t){t.preventDefault(),e.props.onSetFilter(e.state.filter)},e.setSort=function(t){e.setState({filter:Object(k.a)(Object(k.a)({},e.state.filter),{},{sortBy:t})},(function(){return e.props.onSetFilter(e.state.filter)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"toy-filter"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement(C.a,{className:"search-input",onChange:this.handleChange,type:"text",name:"filterText",placeholder:"Search toy...",id:"outlined-basic",label:"SEARCH",variant:"outlined"}),r.a.createElement(A.a,{name:"inStock",value:this.state.filter.inStock,labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:this.handleChange},r.a.createElement(I.a,{value:"all"},"All"),r.a.createElement(I.a,{value:"yes"},"In stock"),r.a.createElement(I.a,{value:"no"},"Out of stock"))),r.a.createElement(T.a,{color:"primary",variant:"contained","aria-label":"contained primary button group"},r.a.createElement(S.a,{onClick:function(){return e.setSort("price")}},"Sort By Price"),r.a.createElement(S.a,{className:"special-btn",onClick:function(){return e.setSort("name")}},"Sort By Name")))}}]),n}(a.Component),_=n(316),x=n(129),D=n.n(x),U=n(91),F=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var n=t.target.value;e.setState({toyName:n})},e.submitForm=function(t){t.preventDefault(),console.log("adding:",e.state),e.props.onAddToy(e.state.toyName)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(U.b,{initialValues:{text:""},onSubmit:function(e,t){var n=t.setSubmitting;setTimeout((function(){alert(JSON.stringify(e,null,2)),n(!1)}),400)}},(function(t){var n=t.isSubmitting;return r.a.createElement(U.a,null,r.a.createElement(C.a,{name:"text",onChange:e.handleChange,type:"text",placeholder:"Add Toy...",id:"outlined-basic",label:"New Toy",variant:"outlined"}),r.a.createElement(_.a,{color:"primary","aria-label":"add"},r.a.createElement(D.a,{onClick:e.submitForm,type:"submit",disabled:n})))})))}}]),n}(a.Component),N=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:null},e.onSetFilter=function(t){e.setState({filterBy:t},(function(){return e.props.loadToys(e.state.filterBy)}))},e.onAddToy=function(t){e.props.addToy(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadToys()}},{key:"render",value:function(){var e=this.props,t=e.toys,n=e.loggedInUser;return t?r.a.createElement("div",{className:"toy-app"},r.a.createElement("h1",null,"Toy App"),n&&n.isAdmin&&r.a.createElement(F,{onAddToy:this.onAddToy}),r.a.createElement(R,{onSetFilter:this.onSetFilter,onSortName:this.onSortName,onSortPrice:this.onSortPrice}),r.a.createElement(w,{toys:t})):r.a.createElement("div",null,"Loading...")}}]),n}(a.Component),B={loadToys:g,addToy:function(e){return console.log("im here:",e),function(t){f.save(e).then((function(e){t({type:"ADD_TOY",newToy:e})}))}}},M=Object(d.b)((function(e){return{toys:e.toyReducer.toys,loggedInUser:e.userReducer.loggedinUser}}),B)(N),P=n(11),W=n.n(P),L=n(21),V=h.a.create({withCredentials:!0}),Y=function(e,t){return z(e,"GET",t)},q=function(e,t){return z(e,"POST",t)},G=function(e,t){return z(e,"DELETE",t)};function z(e){return H.apply(this,arguments)}function H(){return(H=Object(L.a)(W.a.mark((function e(t){var n,a,r,o=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"get",a=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,V({url:"".concat("/api/").concat(t),method:n,data:a});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var J={add:function(e){return X.apply(this,arguments)},query:function(e){if(e)var t="?toyId=".concat(e.toyId);return Y("review".concat(t||""))},remove:function(e){return G("review/".concat(e))}};function X(){return(X=Object(L.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("review",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={reviewToEdit:{txt:"",toyId:""}},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState((function(e){return{reviewToEdit:Object(k.a)(Object(k.a)({},e.reviewToEdit),{},Object(j.a)({},a,r))}}))},e.addReview=function(t){t.preventDefault(),e.props.addReview(e.state.reviewToEdit),e.setState({reviewToEdit:{txt:"",toyId:""}})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(L.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadReviews(this.props.toyId);case 2:console.log(this.props.reviews,"GOT REVIEWS");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.props.reviews&&r.a.createElement("ul",null,this.props.reviews.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("h3",null,"New Review: ",e.txt),r.a.createElement("p",null,r.a.createElement(E.b,{to:"user/".concat(e.toyId)},"About -",e.aboutToy.name)),r.a.createElement("p",null,r.a.createElement(E.b,{to:"user/".concat(e.byUserId)},"By -",e.byUser.username)),r.a.createElement("hr",null))}))),this.props.loggedInUser&&r.a.createElement("h2",null,"Add Review:"),this.props.loggedInUser&&r.a.createElement("form",{onSubmit:this.addReview},r.a.createElement("select",{onChange:this.handleChange,value:this.state.reviewToEdit.toyId,name:"toyId"},r.a.createElement("option",{value:""},"Select Toy"),this.props.toys.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("textarea",{name:"txt",onChange:this.handleChange,value:this.state.reviewToEdit.txt}),r.a.createElement("button",null,"Submit")))}}]),n}(a.Component),K={addReview:function(e){return console.log("got review:",e),function(){var t=Object(L.a)(W.a.mark((function t(n){var a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.add(e);case 3:a=t.sent,n({type:"REVIEW_ADD",review:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ReviewActions: err in addReview",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},loadReviews:function(e){return function(){var t=Object(L.a)(W.a.mark((function t(n){var a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.query({toyId:e});case 3:a=t.sent,console.log("reviews in action",a),n({type:"SET_REVIEWS",reviews:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("ReviewActions: err in loadReviews",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},Z=Object(d.b)((function(e){return{toys:e.toyReducer.toys,loggedInUser:e.userReducer.loggedinUser,reviews:e.reviewReducer.reviews}}),K)($),Q=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={toy:null},e.onDeleteToy=function(){e.props.removeToy(e.state.toy),setTimeout((function(){return e.props.history.push("/toy")}),500)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.getById(this.props.match.params.id).then((function(t){e.setState({toy:t})}))}},{key:"render",value:function(){var e=this.state.toy,t=this.props.loggedInUser;return e?r.a.createElement("div",{className:"details-container"},r.a.createElement("h3",null,e.name),r.a.createElement("h4",null,e.price,"$"),r.a.createElement("h5",null,"Category: ",e.type),e.inStock?"This toy is on stock!":"Out of stock",r.a.createElement("h5",null,"Created At ",e.createdAt),e.imgUrl&&r.a.createElement("img",{src:e.imgUrl,alt:"No Img"}),t&&t.isAdmin&&r.a.createElement("button",{onClick:this.onDeleteToy},"Delete Toy"),r.a.createElement(Z,{toyId:e._id})):r.a.createElement("span",null,"Loading...")}}]),n}(a.Component),ee={removeToy:b},te=Object(d.b)((function(e){return{toys:e.toyReducer.toys,loggedInUser:e.userReducer.loggedinUser}}),ee)(Q);function ne(){return r.a.createElement("div",{className:"nav-container"},r.a.createElement(E.c,{className:"navlink",to:"/"}," Toy App")," ",r.a.createElement("br",null),r.a.createElement(E.c,{className:"navlink",to:"/about"}," About"),r.a.createElement("br",null),r.a.createElement(E.c,{className:"navlink",to:"/login"}," Login"),r.a.createElement(E.c,{className:"navlink",to:"/dashboard"}," Dashboard"))}var ae=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={toy:null},e.uploadImg=function(){var t=Object(L.a)(W.a.mark((function t(n){var a,r,o,c;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"dsrtl41yz",a="https://api.cloudinary.com/v1_1/".concat("dsrtl41yz","/image/upload"),(r=new FormData).append("file",n.target.files[0]),r.append("upload_preset","ml_default"),t.prev=5,t.next=8,fetch(a,{method:"POST",body:r});case 8:return o=t.sent,t.next=11,o.json();case 11:return c=t.sent,e.setState({toy:Object(k.a)(Object(k.a)({},e.state.toy),{},{imgUrl:c.secure_url})},(function(){return console.log(e.state)})),t.abrupt("return",c);case 16:t.prev=16,t.t0=t.catch(5),console.log("Got Error uploading the img:",t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var n=t.target,a=n.name,r="number"===n.type?+n.value:n.value;e.setState((function(e){return{toy:Object(k.a)(Object(k.a)({},e.toy),{},Object(j.a)({},a,r))}}),(function(){return console.log(e.state,"@@@***")}))},e.onSaveToy=function(t){t.preventDefault(),e.props.saveToy(e.state.toy),setTimeout((function(){return e.props.history.push("/toy")}),400)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.getById(this.props.match.params.id).then((function(t){e.setState({toy:t})}))}},{key:"render",value:function(){var e=this.state.toy;return e?r.a.createElement("div",{className:"edit-container"},r.a.createElement("h3",null,"Want to edit your toy info? This is the right place!"),r.a.createElement("form",{onSubmit:this.onSaveToy},r.a.createElement("input",{onChange:this.handleInput,type:"text",name:"name",defaultValue:e.name}),r.a.createElement("input",{onChange:this.handleInput,type:"text",name:"type",defaultValue:e.type}),r.a.createElement("input",{onChange:this.handleInput,type:"number",name:"price",defaultValue:e.price}),e.imgUrl&&r.a.createElement("img",{src:e.imgUrl,alt:"No Img"}),r.a.createElement("label",null," Upload Toy Img",r.a.createElement("input",{type:"file",onChange:this.uploadImg})),r.a.createElement("button",null,"SAVE"))):r.a.createElement("div",null,"Loading...")}}]),n}(a.Component),re={removeToy:b,saveToy:function(e){return function(t){f.save(e).then((function(){t({type:"UPDATE_TOY",toyToSave:e})}))}}},oe=Object(d.b)((function(e){return{toys:e.toyReducer.toys}}),re)(ae),ce=n(90),ie=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getObjectMap=function(){return e.props.toys.reduce((function(e,t){return e[t.type]||(e[t.type]=0),e[t.type]+=t.price,e}),{})},e.getCounterMap=function(){return e.props.toys.reduce((function(e,t){return e[t.type]||(e[t.type]=0),e[t.type]++,e}),{})},e.getBarData=function(){var t=Object.keys(e.getObjectMap()),n=Object.values(e.getObjectMap()),a=Object.values(e.getCounterMap());return{labels:t,datasets:[{label:"Average price",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"#ff6384",data:n.map((function(e,t){return+(e/a[t]).toFixed(0)}))}]}},e.getPieData=function(){var t=e.props.toys.reduce((function(e,t){var n=t.createdAt.substring(0,4);return e[n]||(e[+n]=0),e[n]++,e}),{});return{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#FFEE11","#40434E","#52154E","#C17817","#3F784C","#B20D30","#F0E2E7","#3F84E5","#af73e1"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#FFEE11","#40434E","#52154E","#C17817","#3F784C","#B20D30","#F0E2E7","#3F84E5","#af73e1"]}]}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadToys()}},{key:"render",value:function(){return this.props.toys.length?r.a.createElement("section",{className:"dashboard-container"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("h2",null,"Average price per Toy category/type"),r.a.createElement(ce.Bar,{data:this.getBarData(),width:5,height:1,options:{maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:!0,min:0}}]}}}),r.a.createElement("h2",null,"Toys per year"),r.a.createElement(ce.Pie,{width:3,height:1,data:this.getPieData()})):r.a.createElement("div",null,"Loading")}}]),n}(a.Component),le={loadToys:g},ue=Object(d.b)((function(e){return{toys:e.toyReducer.toys}}),le)(ie),se=n(47),pe=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={lat:32.0853,lng:34.7818},e.onMarkerClick=function(e){console.log(e)},e.onInfoWindowClose=function(e){console.log(e)},e.onMapClicked=function(t,n,a){e.setState({lat:a.latLng.lat(),lng:a.latLng.lng()})},e.changePos=function(t){var n={lat:"",lng:""};switch(t){case"haifa":n.lat=32.794044,n.lng=34.989571;break;case"bat-yam":n.lat=32.017136,n.lng=34.745441;break;case"eilat":n.lat=29.55805,n.lng=34.94821;break;default:n.lat=32.017136,n.lng=34.745441}e.setState(n)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("h1",null,"About Page"),r.a.createElement(T.a,{color:"primary",variant:"contained","aria-label":"contained primary button group"},r.a.createElement(S.a,{onClick:function(){return e.changePos("haifa")}},"Haifa"),r.a.createElement(S.a,{onClick:function(){return e.changePos("batyam")}},"Bat-Yam"),r.a.createElement(S.a,{onClick:function(){return e.changePos("eilat")}},"Eilat")),r.a.createElement(se.Map,{initialCenter:this.state,center:this.state,google:this.props.google,zoom:10,onClick:this.onMapClicked},r.a.createElement(se.Marker,{onClick:this.onMarkerClick,name:"Current location"}),r.a.createElement(se.Marker,{position:{lat:32.2953,lng:34.8822}}),r.a.createElement(se.Marker,{position:{lat:32.3803,lng:35.0822}}),r.a.createElement(se.InfoWindow,{onClose:this.onInfoWindowClose},r.a.createElement("div",null,r.a.createElement("h1",null,"InfoWindow")))))}}]),n}(a.Component),de=Object(se.GoogleApiWrapper)({apiKey:"AIzaSyDV3aMtXNZ4Q87UKlasdj0gHhEP2xEEqFY"})(pe),me={login:function(e){return he.apply(this,arguments)}};function he(){return(he=Object(L.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("auth/login",t);case 2:return n=e.sent,e.abrupt("return",ye(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var ve=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(j.a)({},a,r))},e.onLogin=function(){var t=Object(L.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.username&&e.state.password){t.next=2;break}return t.abrupt("return",alert("Please enter user/password"));case 2:e.props.onLogin(e.state);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.loggedInUser;return console.log("logged in:",e),r.a.createElement("div",null,r.a.createElement("h1",null,"Login page"),!e&&r.a.createElement("form",{className:"login-form",onSubmit:this.onLogin},r.a.createElement(C.a,{autoFocus:!0,required:!0,onChange:this.handleChange,name:"username",id:"outlined-basic",label:"Username",variant:"outlined"}),r.a.createElement(C.a,{required:!0,onChange:this.handleChange,name:"password",id:"outlined-basic",label:"Password",variant:"outlined"}),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:this.onLogin},"Submit")),e&&r.a.createElement("h2",null,"Welcome,",e.username))}}]),n}(a.Component),fe={onLogin:function(e){return function(){var t=Object(L.a)(W.a.mark((function t(n){var a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.login(e);case 2:a=t.sent,n({type:"SET_USER",user:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ge=Object(d.b)((function(e){return{toys:e.toyReducer.toys,loggedInUser:e.userReducer.loggedinUser}}),fe)(ve);var be=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ne,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{component:oe,path:"/toy/edit/:id"}),r.a.createElement(i.a,{component:te,path:"/toy/:id"}),r.a.createElement(i.a,{component:ue,path:"/dashboard"}),r.a.createElement(i.a,{component:de,path:"/about"}),r.a.createElement(i.a,{component:ge,path:"/login"}),r.a.createElement(i.a,{component:M,path:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=n(46),Oe=n(130),we=n(73),je={toys:[]};var ke={users:[],loggedinUser:null};var Te={reviews:[],selectedReview:null};var Se=Object(Ee.c)({toyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOYS":return Object(k.a)(Object(k.a)({},e),{},{toys:t.toys});case"REMOVE_TOY":return Object(k.a)(Object(k.a)({},e),{},{toys:e.toys.filter((function(e){return e._id!==t.toy._id}))});case"ADD_TOY":return Object(k.a)(Object(k.a)({},e),{},{toys:[t.newToy].concat(Object(we.a)(e.toys))});case"UPDATE_TOY":case"UPDATE_TODO":return Object(k.a)(Object(k.a)({},e),{},{toys:e.toys.map((function(e){return e._id===t.toyToSave._id?t.toyToSave:e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"SET_USERS:":return Object(k.a)(Object(k.a)({},e),{},{loggedinUser:t.user});default:return e}},reviewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(k.a)(Object(k.a)({},e),{},{reviews:t.reviews});case"REVIEW_ADD":return Object(k.a)(Object(k.a)({},e),{},{reviews:[].concat(Object(we.a)(e.reviews),[t.review])});case"REVIEW_UPDATE":return Object(k.a)(Object(k.a)({},e),{},{reviews:e.reviews.map((function(e){return e._id===t.review._id?t.review:e}))});default:return e}}}),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,Ie=Object(Ee.e)(Se,Ce(Object(Ee.a)(Oe.a)));c.a.render(r.a.createElement(d.a,{store:Ie},r.a.createElement(E.a,null,r.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.5c91a412.chunk.js.map